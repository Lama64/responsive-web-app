<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="A page about trying to visit all tram stations in a city.">
    <meta name="keywords" content="Tram, Speedrun, Checklist">
    <title>
        Tram Stations Speedrun
    </title>

    <!--Material Symbols | See: https://fonts.google.com/icons -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=cancel,check_circle,close,help,upload" />

    <!--Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!--Leaflet (Base of the map) | See: https://leafletjs.com -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!--Leaflet GeometryUtil Plugin | See: https://github.com/makinacorpus/Leaflet.GeometryUtil -->
    <script
        src="https://raw.githubusercontent.com/makinacorpus/Leaflet.GeometryUtil/master/src/leaflet.geometryutil.js"></script>

    <!--JQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>


    <link id="css" rel="stylesheet" type="text/css" href="style.css">

    <script src="toast.js" async></script>
    <script src="help-overlay.js" async></script>
</head>

<body>
    <!--main header of the page, moved to hamburger menu for mobile version-->
    <header>
        Tram Stations Speedrun / Checklist
        <div id="header-buttons">
            <!--ways to add stations to the map-->
            <label for="stop-upload" class="file-upload">
                <span class="material-symbols-outlined">
                    upload
                </span>
                Upload Stations
            </label>
            <input type="file" id="stop-upload" accept=".txt" />
            <form class="city-search-form" id="station-add">
                <input type="search" placeholder="Search for City to add." />
            </form>
            <!--help overlay button-->
            <span class="material-symbols-outlined" id="open-help">
                help
            </span>
        </div>
    </header>

    <div id="map">
    </div>
    <!--js file containing functions for the map should be loaded after the div containing the map-->
    <script src="map.js" async></script>
    <script src="stops-parser.js" async></script>

    <!--help overlay-->
    <div id="help-overlay">
        <div id="help-content">
            <div id="help-header">
                <h2>How-To:</h2>
                <span class="material-symbols-outlined" id="close-help">
                    close
                </span>
            </div>
            <p>
                This page tracks each tram station that you visit, while the page is open.
                The goal is to visit all available stations in as little time as possible,
                although it is also possible to disable the time aspect and use this page as a simple checklist.
                If geolocation is enabled, a station will automatically be completed upon visiting, otherwise stations
                have to be checked manually.
            </p>
            <p>
                Stations can be added by searching for a named region, i.e. a city, region or country, in the input
                below or by uploading a stops file following the General Transit Feed Specification (GTFS) standard.
                It is also possible to create or delete stations afterwards.
            </p>
            <p>
                It is recommended not to display a very large amount of stations at once, as this may cause lag.
            </p>
            <!--ways to add stations to the map, same as above-->
            <label for="stop-upload" class="file-upload">
                <span class="material-symbols-outlined">
                    upload
                </span>
                Upload Stations
            </label>
            <form class="city-search-form" id="station-add">
                <input type="search" placeholder="Search for area to add." />
            </form>
        </div>
    </div>

    <!--toasts-->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div class="toast" id="live-toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000">
            <div class="toast-header">
                <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1;" id="toast-icon">
                    check_circle
                </span>
                <strong class="me-auto" id="toast-status">Status</strong>
                <span class="material-symbols-outlined" id="close-toast" data-bs-dismiss="toast">
                    close
                </span>
            </div>
            <div class="toast-body" id="toast-body"> <!--content and status changed dynamically-->
                Toast Message
            </div>
        </div>
    </div>
</body>

</html>